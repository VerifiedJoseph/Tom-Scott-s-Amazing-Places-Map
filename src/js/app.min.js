"use strict";jQuery(function(e){function o(e){var o,t,l={center:new google.maps.LatLng("54.9000","25.3167"),zoom:4,maxZoom:11,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1};for(i=new google.maps.Map(document.getElementById("map-canvas"),l),a=new google.maps.InfoWindow,t=0;t<Object.keys(e).length;t+=1)o=new google.maps.Marker({position:new google.maps.LatLng(e[t].lat,e[t].long),map:i,title:e[t].title}),google.maps.event.addListener(o,"click",function(o,t){return function(){var n='<div class="map-video"><iframe src="https://www.youtube-nocookie.com/embed/'+e[t].id+'" frameborder="0" allowfullscreen></iframe></div>';a.setContent(n),a.open(i,o)}}(o,t)),n.push(o)}function t(o){var t,i;for(i=0;i<Object.keys(o).length;i+=1)t='<div class="col-xs-6 col-sm-4 col-lg-2 video"><div class="thumbnail" data-map-id="'+i+'"><img title="'+o[i].title+'" class="video-thumbnail" src="https://i.ytimg.com/vi/'+o[i].id+'/mqdefault.jpg" title="'+o[i].title+'"><div title="'+o[i].title+'" class="caption"><span>'+o[i].title+"</span></div></div>",e(".video-box").append(t)}var i,a,n=[];e.ajaxSetup({dataType:"json"}),e.getJSON("videos.json").done(function(a){console.log("Fetched video list"),e(".badge").append(Object.keys(a.videos).length),o(a.videos),t(a.videos),e(".caption").dotdotdot({ellipsis:"... ",wrap:"word",watch:"window"}),e(".thumbnail").on("click",function(){var o=e(this).attr("data-map-id");google.maps.event.trigger(n[o],"click"),e("body,html").animate({scrollTop:0},800)}),google.maps.event.addListenerOnce(i,"idle",function(){e("#loading").fadeOut("slow")})}).fail(function(){e("#error-note").show(),e("#loading").fadeOut("slow"),console.log("Failed to fetch video list")})});
